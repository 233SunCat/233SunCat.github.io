---
title: TCP的可靠传输
date: 2021-03-12 22:58:40
categories: 
- 计算机网络
- TCP
---
可靠传输：能够有序的都到达接受方

TCP使用滑动窗口

学习三个机制：超时重传/快速重传/选择确认/累计确认

先了解背景

超时重传很简单

超时重传的时间设置是个难点：简单来说时依据多个往返时间确认平均往返时间，超时重传设置比平均往返时间要长一点，记住超时时间时动态设置不断变化的

以后有必要的时候来了解

背景：报文段丢失，会启动超时重传，但是所有都超时重传，延迟太高了

对超时重传的补充和改进

快速重传的思想：一个报文段丢失引发多个重复确认，发送方收到多个重复确认不再等待超时机制，发送丢失的报文段

例子：比如发送M1,M2,M3,M4,M5

M2丢失，M3,M4,M5都发送M1的确认包通知发送方丢失

 

背景：使用累计确认是对接受到的有序报文段确认，但是失序的报文段也在接受发缓存中，长时间的话会触发超时重发机制

选择确认的思想：对失序的报文段也开启通知

再确认报文段中可以开启字段，该字段用来保存失序的边界，以此来通知发送方发送缺少的报文段

 

累计确认：对于有序到达接受方大报文段不再一个个发送确认，而是几个一起

例子：M1,M2,M3,M4,都到了接收方只发送一个M4的确认，发送 方收到后认定M1M2M3M4都收到了